<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜¥æ—¥åºæ›²ï½œä¹å·å±±æµ·è‡ªé§•æ—¥è¨˜ ğŸŒ¸</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&display=swap');

        :root {
            --plum: #F06292;        /* æ¢…èŠ±ä¸»è‰² */
            --plum-light: #FCE4EC;  /* æ·ºç²‰ */
            --ocean: #29B6F6;       /* æµ·æ´‹è— */
            --ocean-dark: #0277BD;  /* æ·±æµ·è— */
            --mountain: #9CCC65;    /* é˜¿è˜‡ç¶  */
            --text: #37474F;
            --glass: rgba(255, 255, 255, 0.92);
        }

        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background: linear-gradient(160deg, #E1F5FE 0%, #F3E5F5 50%, #F1F8E9 100%);
            margin: 0;
            padding: 20px;
            color: var(--text);
            min-height: 100vh;
            background-attachment: fixed;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: var(--glass);
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255,255,255,0.6);
            padding-bottom: 30px;
        }

        /* Header */
        header {
            background-image: url('https://images.unsplash.com/photo-1524413840807-0c3cb6fa808d?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            height: 200px;
            position: relative;
            display: flex;
            align-items: flex-end;
            padding: 20px;
        }

        header::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.6));
        }

        .header-text {
            position: relative;
            z-index: 2;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        h1 { margin: 0; font-size: 1.6rem; letter-spacing: 1px; }
        .subtitle { font-size: 0.9rem; opacity: 0.9; margin-top: 5px; font-weight: normal; }

        /* Navigation Grid */
        .nav-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 20px;
        }

        .nav-btn {
            background: white;
            padding: 18px;
            border-radius: 16px;
            text-align: center;
            font-weight: bold;
            color: var(--text);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(240, 98, 146, 0.2);
            border-color: var(--plum-light);
        }

        .nav-btn i { font-size: 1.5rem; color: var(--plum); }

        /* Sections */
        .section { display: none; padding: 0 20px; animation: fadeIn 0.4s ease; }
        .section.active { display: block; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .back-btn {
            background: none;
            border: none;
            color: var(--ocean-dark);
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 5px;
            font-family: inherit;
        }
        
        h2 {
            font-size: 1.4rem;
            color: var(--plum);
            border-bottom: 2px dashed #ddd;
            padding-bottom: 10px;
            margin-top: 0;
        }

        /* Itinerary Styles */
        .day-group { margin-bottom: 25px; }
        .day-title {
            background: linear-gradient(to right, var(--plum), var(--plum-light));
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.95rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(240, 98, 146, 0.3);
        }

        .timeline-step {
            display: flex;
            margin-bottom: 15px;
            padding-left: 10px;
            position: relative;
        }

        .timeline-step::before {
            content: '';
            position: absolute;
            left: 0; top: 8px; bottom: -20px;
            width: 2px;
            background: #eee;
        }
        .timeline-step:last-child::before { display: none; }

        .step-time {
            font-size: 0.8rem;
            color: #999;
            width: 50px;
            flex-shrink: 0;
            padding-top: 3px;
            font-weight: bold;
        }

        .step-content {
            background: white;
            padding: 10px 15px;
            border-radius: 12px;
            flex-grow: 1;
            box-shadow: 0 2px 8px rgba(0,0,0,0.03);
            border-left: 4px solid var(--ocean);
            cursor: pointer;
            transition: 0.2s;
            position: relative;
        }

        .step-content:active { transform: scale(0.98); background: #fafafa; }
        .step-content::after { content: 'ğŸ‘†'; font-size: 0.8rem; position: absolute; right: 10px; top: 10px; opacity: 0.5; }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            backdrop-filter: blur(5px);
        }
        
        .modal.open { display: flex; animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-card {
            background: white;
            width: 100%;
            max-width: 400px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            position: relative;
        }

        .modal-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: #eee;
        }

        .modal-body { padding: 20px; }
        .modal-title { font-size: 1.3rem; color: var(--ocean-dark); margin: 0 0 10px 0; font-weight: bold; }
        .modal-desc { font-size: 0.95rem; line-height: 1.6; color: #555; }
        .close-modal {
            position: absolute;
            top: 15px; right: 15px;
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            width: 30px; height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex; align-items: center; justify-content: center;
        }

        /* Mapcode Pagination */
        .map-tabs {
            display: flex;
            background: #f0f0f0;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 20px;
        }
        
        .map-tab-btn {
            flex: 1;
            padding: 10px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-weight: bold;
            color: #888;
            border-radius: 8px;
            transition: 0.3s;
            font-family: inherit;
        }
        
        .map-tab-btn.active {
            background: white;
            color: var(--ocean-dark);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .map-table { width: 100%; border-collapse: separate; border-spacing: 0 8px; }
        .map-table td { background: white; padding: 12px; border: 1px solid #eee; }
        .map-table td:first-child { border-radius: 10px 0 0 10px; border-right: none; font-weight: bold; color: var(--text); }
        .map-table td:last-child { border-radius: 0 10px 10px 0; border-left: none; text-align: right; }
        
        .copy-btn {
            background: var(--plum-light);
            color: var(--plum);
            border: none;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            cursor: pointer;
        }

        /* Checklist */
        .checklist-item {
            background: white;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            border: 1px solid #f0f0f0;
        }
        .checklist-item input { margin-right: 15px; width: 20px; height: 20px; accent-color: var(--plum); }
        .checklist-item.checked span { text-decoration: line-through; color: #ccc; }

        /* Floating Petals */
        .petal {
            position: fixed;
            background: #FFCDD2;
            width: 10px; height: 10px;
            border-radius: 100% 0 100% 0;
            pointer-events: none;
            animation: fall linear infinite;
            z-index: 9999;
            opacity: 0.6;
        }
        @keyframes fall { to { transform: translateY(100vh) rotate(720deg); } }

    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <div class="container">
        <header>
            <div class="header-text">
                <h1>æ˜¥æ—¥åºæ›²</h1>
                <div class="subtitle">æŸ³æ—»å¿— 2026 ä¹å·å±±æµ·è‡ªé§•æ—¥è¨˜ ğŸŒ¸</div>
            </div>
        </header>

        <div id="home" class="section active">
            <div class="nav-grid">
                <div class="nav-btn" onclick="showSection('itinerary')">
                    <i class="fas fa-map-marked-alt"></i> äº’å‹•è¡Œç¨‹è¡¨
                </div>
                <div class="nav-btn" onclick="showSection('packing')">
                    <i class="fas fa-suitcase"></i> æ—…è¡Œæ¸…å–®
                </div>
                <div class="nav-btn" onclick="showSection('food')">
                    <i class="fas fa-utensils"></i> ç¾é£Ÿåœ°åœ–
                </div>
                <div class="nav-btn" onclick="showSection('mapcodes')">
                    <i class="fas fa-car-side"></i> å°èˆªç·¨ç¢¼
                </div>
                <div class="nav-btn" onclick="showSection('reservations')">
                    <i class="fas fa-ticket-alt"></i> é ç´„æ†‘è­‰
                </div>
                <div class="nav-btn" onclick="window.open('https://www.google.com/maps/search/è¶…å¸‚')">
                    <i class="fas fa-shopping-basket"></i> é™„è¿‘è¶…å¸‚
                </div>
            </div>
            <p style="text-align:center; color:#999; font-size:0.8rem; margin-top:10px;">
                *è¡Œç¨‹è¡¨ä¸­çš„åœ°é»å¯ä»¥é»æ“ŠæŸ¥çœ‹ç…§ç‰‡å“¦ï¼
            </p>
        </div>

        <div id="packing" class="section">
            <button class="back-btn" onclick="showSection('home')"><i class="fas fa-chevron-left"></i> è¿”å›é¦–é </button>
            <h2>ğŸ’ å‡ºç™¼å‰æª¢æŸ¥</h2>
            <div id="checklist-container"></div>
        </div>

        <div id="itinerary" class="section">
            <button class="back-btn" onclick="showSection('home')"><i class="fas fa-chevron-left"></i> è¿”å›é¦–é </button>
            <h2>ğŸ“… é»æ“Šåœ°é»çœ‹ç…§ç‰‡</h2>
            <div id="itinerary-content"></div>
        </div>

        <div id="food" class="section">
            <button class="back-btn" onclick="showSection('home')"><i class="fas fa-chevron-left"></i> è¿”å›é¦–é </button>
            <h2>ğŸœ ä¹å·å¿…åƒæ¸…å–®</h2>
            <div id="food-container"></div>
        </div>

        <div id="mapcodes" class="section">
            <button class="back-btn" onclick="showSection('home')"><i class="fas fa-chevron-left"></i> è¿”å›é¦–é </button>
            <h2>ğŸš— è‡ªé§•å°èˆª</h2>
            
            <div class="map-tabs">
                <button class="map-tab-btn active" onclick="switchMapTab(1)">ç¬¬ä¸€éƒ¨ï¼šå±±æ—ç¯‡</button>
                <button class="map-tab-btn" onclick="switchMapTab(2)">ç¬¬äºŒéƒ¨ï¼šæµ·æ´‹ç¯‡</button>
            </div>

            <div id="map-page-1">
                <p style="font-size:0.8rem; color:#666; margin-bottom:10px;">ğŸ“ å¾ç¦å²¡å–è»Š åˆ° é˜¿è˜‡ç«å±±å£</p>
                <table class="map-table">
                    <tbody id="map-body-1"></tbody>
                </table>
            </div>

            <div id="map-page-2" style="display:none;">
                <p style="font-size:0.8rem; color:#666; margin-bottom:10px;">ğŸ“ å¾é˜¿è˜‡èµ¤ç‰› åˆ° Outlets</p>
                <table class="map-table">
                    <tbody id="map-body-2"></tbody>
                </table>
            </div>
        </div>

        <div id="reservations" class="section">
            <button class="back-btn" onclick="showSection('home')"><i class="fas fa-chevron-left"></i> è¿”å›é¦–é </button>
            <h2>ğŸ« é ç´„ç¢ºèªè³‡æ–™</h2>
            <div id="res-container"></div>
        </div>
    </div>

    <div id="location-modal" class="modal" onclick="closeModal(event)">
        <div class="modal-card">
            <button class="close-modal" onclick="closeModal(event)">Ã—</button>
            <img id="modal-img" class="modal-img" src="" alt="Location">
            <div class="modal-body">
                <h3 id="modal-title" class="modal-title"></h3>
                <p id="modal-desc" class="modal-desc"></p>
                <div style="font-size:0.8rem; color:#999; margin-top:10px;">*åœ–ç‰‡ç‚ºç¶²è·¯ç¤ºæ„åœ–ï¼Œåƒ…ä¾›åƒè€ƒ</div>
            </div>
        </div>
    </div>

<script>
    // --- Data Configuration ---

    const packingList = [
        "è­·ç…§ (æ•ˆæœŸå…§)", "å°ç£é§•ç…§ (æ­£æœ¬)", "é§•ç…§æ—¥æ–‡è­¯æœ¬", "å¯Œé‚¦Jå¡ (æ—¥æœ¬å›é¥‹)", "æ—¥å¹£ç¾é‡‘", 
        "æ‰‹æ©Ÿ & å……é›»å™¨", "è¡Œå‹•é›»æº", "eSIM (ç¢ºèªé–‹é€š)", "å€‹äººè—¥å“", "ä¿æº«ç“¶",
        "ç‰™åˆ·ç‰™è†", "é›¨å…·", "å‡¡å£«æ— (ä¹¾ç‡¥)", "èˆ’é©å¥½èµ°çš„é‹"
    ];

    const itineraryData = [
        {
            date: "1/29 (å››) Day 1",
            steps: [
                { t: "12:00", name: "ç¦å²¡æ©Ÿå ´ (FUK)", imgKey: "Fukuoka Airport", desc: "æŠµé”ç¦å²¡ï¼CI138 èˆªç­ã€‚å‡ºé—œå¾Œæ­è¨ˆç¨‹è»Šæˆ–åœ°éµå‰å¾€åšå¤šå¸‚å€ã€‚" },
                { t: "14:00", name: "å·ç«¯é€šå•†åº—è¡—", imgKey: "Kawabata Shopping Arcade", desc: "åšå¤šæœ€å¤è€çš„å•†åº—è¡—ï¼Œæœ‰å„å¼å°åƒèˆ‡ä¼´æ‰‹ç¦®ã€‚å¿…é€›ï¼" },
                { t: "15:00", name: "Full Full æ˜å¤ªå­éºµåŒ…", imgKey: "Baguette", desc: "é›–ç„¶æœ¬åº—äººå¤šï¼Œä½†é€™å®¶æ˜å¤ªå­æ³•æ£æ˜¯å‚³èªªä¸­çš„ç¾å‘³ï¼Œå¤–é…¥å…§è»Ÿã€‚" },
                { t: "18:00", name: "è—¥é™¢ç‡’è‚‰ NIKUICHI", imgKey: "Yakiniku", desc: "ã€å·²é ç´„ã€‘CPå€¼è¶…é«˜çš„é»‘æ¯›å’Œç‰›ç‡’è‚‰ï¼Œè‚‰è³ªé®®å«©ï¼Œè¨˜å¾—å‡ºç¤ºé ç´„ä¿¡ã€‚" },
                { t: "20:00", name: "è¥¿éµ Croom åšå¤šç¥‡åœ’", imgKey: "Hotel Room", desc: "ã€ä½å®¿ã€‘ä½æ–¼æ«›ç”°ç¥ç¤¾å‰ï¼Œäº¤é€šæ–¹ä¾¿ï¼Œæœ‰å¤§æµ´å ´å¯ä»¥æ³¡æ¹¯ã€‚" }
            ]
        },
        {
            date: "1/30 (äº”) Day 2",
            steps: [
                { t: "10:35", name: "åšå¤šåŸ é ­æ­èˆ¹", imgKey: "Ferry", desc: "æ­ä¹˜æ¸¡è¼ªå‰å¾€æµ·ä¹‹ä¸­é“ï¼Œäº«å—åšå¤šç£çš„æµ·é¢¨ï¼Œèˆ¹ç¨‹ç´„20åˆ†é˜ã€‚" },
                { t: "11:00", name: "æµ·ä¹‹ä¸­é“æµ·æ¿±å…¬åœ’", imgKey: "Uminonakamichi Seaside Park", desc: "ç§Ÿè…³è¸è»Šæ¼«éŠï¼æœ‰æ°´è±šå›ã€è¢‹é¼ ï¼Œé‚„æœ‰ä¸€æœ›ç„¡éš›çš„èŠ±æµ·èˆ‡è‰åœ°ã€‚" },
                { t: "18:00", name: "åšå¤šé‹æ²³åŸ", imgKey: "Canal City Hakata", desc: "å¤§å‹è³¼ç‰©ä¸­å¿ƒï¼Œæ¯åŠå°æ™‚æœ‰æ°´èˆç§€ã€‚æ™šé¤æ¨è–¦æ‹‰éºµç«¶æŠ€å ´æˆ–ç‰›èˆŒã€‚" }
            ]
        },
        {
            date: "1/31 (å…­) Day 3",
            steps: [
                { t: "09:00", name: "Toyota Rent a Car", imgKey: "Car Rental", desc: "ã€å–è»Šã€‘åšå¤šç«™æ±å…¥å£åº—ã€‚æ–¹æ¡ˆå«é›ªèƒèˆ‡ETCã€‚è¨˜å¾—æª¢æŸ¥è»Šæ³ã€‚" },
                { t: "11:30", name: "ULUU è‰è“åƒåˆ°é£½", imgKey: "Strawberry Picking", desc: "ã€å·²é ç´„ã€‘ä½è³€çš„å¤¢å¹»è‰è“åœ’ï¼Œå¤šå“ç¨®è‰è“ç¾æ¡ç¾åƒï¼Œç…‰ä¹³ç„¡é™åŠ ï¼" },
                { t: "15:00", name: "ç”±å¸ƒé™¢ æ¹¯ä¹‹åªè¡—é“", imgKey: "Yufuin", desc: "ç«¥è©±èˆ¬çš„è¡—é“ï¼Œæœ‰å²åŠªæ¯”èŒ¶å±‹ã€B-Speakè›‹ç³•æ²ã€è±å¾Œç‰›å¯æ¨‚é¤…ã€‚" },
                { t: "18:30", name: "æ¹¯å¸ƒé™¢å±±æ°´é¤¨", imgKey: "Onsen Ryokan", desc: "ã€ä½å®¿ã€‘19:00å‰å¿…é ˆCheck-inï¼äº«å—éœ²å¤©æº«æ³‰èˆ‡æœƒå¸­æ–™ç†ï¼Œé‚„èƒ½çœ‹è¦‹ç”±å¸ƒå²³ã€‚" }
            ]
        },
        {
            date: "2/1 (æ—¥) Day 4",
            steps: [
                { t: "08:00", name: "é‡‘é±—æ¹–", imgKey: "Kinrin Lake", desc: "æ¸…æ™¨å¿…ä¾†ï¼æ¹–é¢é£„è‘—å¤¢å¹»çš„æ™¨éœ§ï¼Œæº«æ³‰æ°´èˆ‡å†·ç©ºæ°£äº¤ç¹”çš„å¥‡æ™¯ã€‚" },
                { t: "11:00", name: "é˜¿è˜‡è‰åƒé‡Œ", imgKey: "Aso Kusasenri", desc: "å»£é—Šçš„è‰åŸèˆ‡é¦¬åŒ¹ï¼ŒèƒŒæ™¯æ˜¯å†’ç…™çš„é˜¿è˜‡ç«å±±ï¼Œé¢¨æ™¯å£¯éº—ã€‚" },
                { t: "13:00", name: "é˜¿è˜‡èµ¤ç‰›ä¸¼", imgKey: "Beef Bowl", desc: "åˆé¤æ¨è–¦ Imakin é£Ÿå ‚æˆ–ä¼‘æ¯ç«™ï¼ŒåŠç†Ÿç´…ç‰›è‚‰é‹ªæ»¿æ•´ç¢—é£¯ï¼" },
                { t: "19:00", name: "Dormy Inn Kumamoto", imgKey: "Hot Spring Hotel", desc: "ã€ä½å®¿ã€‘ä½æ–¼ç†Šæœ¬å¸‚å€è¾›å³¶ç”ºï¼Œé ‚æ¨“æœ‰å¤©ç„¶æº«æ³‰ï¼Œå®µå¤œæœ‰å…è²»æ‹‰éºµã€‚" }
            ]
        },
        {
            date: "2/2 (ä¸€) Day 5",
            steps: [
                { t: "11:30", name: "å¤©è‰æµ·é®®è”µ (æµ·è±š)", imgKey: "Dolphin Watching", desc: "ã€å·²é ç´„ã€‘æ­èˆ¹å‡ºæµ·çœ‹é‡ç”Ÿæµ·è±šï¼Œæ©Ÿç‡é«˜é”98%ï¼åˆé¤äº«ç”¨æµ·é®®BBQã€‚" },
                { t: "18:00", name: "ç†Šæœ¬ ä¸‹é€šå•†åº—è¡—", imgKey: "Shopping Street", desc: "ç†Šæœ¬æœ€ç†±é¬§çš„é€›è¡—è–åœ°ï¼Œè—¥å¦ã€æœé£¾ã€é¤å»³æ‡‰æœ‰ç›¡æœ‰ã€‚" }
            ]
        },
        {
            date: "2/3 (äºŒ) Day 6",
            steps: [
                { t: "10:00", name: "ç†Šæœ¬åŸ & åŸå½©è‹‘", imgKey: "Kumamoto Castle", desc: "æ—¥æœ¬ä¸‰å¤§ååŸä¹‹ä¸€ï¼Œé»‘è‰²å¤©å®ˆé–£éå¸¸å¸¥æ°£ã€‚åŸå½©è‹‘æœ‰å¾ˆå¤šç†Šæœ¬ç‰¹è‰²å°åƒã€‚" },
                { t: "15:00", name: "å¤ªå®°åºœå¤©æ»¿å®®", imgKey: "Dazaifu Tenmangu", desc: "å­¸å•ä¹‹ç¥ï¼Œåƒé“ä¸Šæœ‰éšˆç ”å¾è¨­è¨ˆçš„æ˜Ÿå·´å…‹ï¼Œå¿…åƒç¾çƒ¤æ¢…æé¤…ã€‚" },
                { t: "19:00", name: "ä¸‰äº•èŠ±åœ’é£¯åº—ä¸­æ´²", imgKey: "Modern Hotel", desc: "ã€ä½å®¿ã€‘æœ€å¾Œä¸‰æ™šçš„å®¶ï¼Œè³ªæ„Ÿè¨­è¨ˆï¼Œäº¤é€šæ–¹ä¾¿ï¼Œè¿‘ä¸­æ´²å±‹å°ã€‚" }
            ]
        },
        {
            date: "2/4 (ä¸‰) Day 7",
            steps: [
                { t: "09:00", name: "å‘¼å­æœå¸‚", imgKey: "Squid Sashimi", desc: "æ—¥æœ¬ä¸‰å¤§æœå¸‚ä¹‹ä¸€ï¼Œå¿…åƒã€Œé€æ˜æ´»èŠ±æåˆºèº«ã€ï¼Œå£æ„Ÿè„†ç”œï¼" },
                { t: "14:00", name: "ç³¸å³¶ å¤«å©¦å²©", imgKey: "Itoshima Torii", desc: "æµ·ä¸­ç™½è‰²é³¥å±…èˆ‡å¤«å©¦å²©ï¼Œç¦å²¡æœ€ç´…çš„ç¶²ç¾æ‰“å¡é»ï¼Œæµ·æ™¯ç„¡æ•µã€‚" }
            ]
        },
        {
            date: "2/5 (å››) Day 8",
            steps: [
                { t: "All Day", name: "THE OUTLETS", imgKey: "Shopping Mall", desc: "åŒ—ä¹å·æœ€å¤§Outletï¼Œå„å¼å“ç‰Œç˜‹ç‹‚æ¡è³¼ï¼Œç‚ºæ—…ç¨‹ç•«ä¸‹å®Œç¾å¥é»ã€‚" },
                { t: "18:00", name: "é‚„è»Š (Toyota)", imgKey: "Car Return", desc: "å›åˆ°åšå¤šç«™æ±å…¥å£é‚„è»Šï¼Œè¨˜å¾—åŠ æ»¿æ²¹ä¸¦ä¿ç•™æ”¶æ“šã€‚" }
            ]
        }
    ];

    const foodData = [
        { region: "åšå¤š", items: ["Full Full æ˜å¤ªå­éºµåŒ…", "è—¥é™¢ç‡’è‚‰ NIKUICHI", "ä¸€é›™æ‹‰éºµ (æ³¡ç³»è±šéª¨)"] },
        { region: "å¤©ç¥", items: ["I'm donut? (ç”Ÿç”œç”œåœˆ)", "Shin Shin æ‹‰éºµ", "è‘«è˜†å£½å¸"] },
        { region: "ç”±å¸ƒé™¢", items: ["B-Speak è›‹ç³•æ²", "è±å¾Œç‰›å¯æ¨‚é¤…", "é‡œé£¯å¿ƒ"] },
        { region: "ç†Šæœ¬", items: ["é»‘äº­æ‹‰éºµ (ç„¦è’œæ²¹)", "å‹çƒˆäº­ç‚¸è±¬æ’", "èœ‚æ¨‚é¥…é ­"] },
        { region: "é˜¿è˜‡", items: ["Imakin èµ¤ç‰›ä¸¼", "é˜¿è˜‡ç‰›å¥¶å¸ƒä¸"] },
        { region: "ä½è³€/ç³¸å³¶", items: ["å‘¼å­æ´»èŠ±æåˆºèº«", "ç³¸å³¶å¸ƒä¸", "æµ·æ™¯å’–å•¡å»³"] }
    ];

    const mapcodeData = [
        { n: "Toyota Rent a Car (åšå¤š)", c: "13 320 188*71", p: "092-472-8388" },
        { n: "ULUU è‰è“åœ’ (ä½è³€)", c: "37 491 662*13", p: "080-8956-1030" },
        { n: "æ¹¯å¸ƒé™¢å±±æ°´é¤¨", c: "269 328 633*45", p: "0977-84-2101" },
        { n: "é‡‘é±—æ¹–åœè»Šå ´", c: "269 359 583*03", p: "0977-84-3111" },
        { n: "é˜¿è˜‡è‰åƒé‡Œ", c: "256 456 770*85", p: "0967-34-0131" },
        { n: "é˜¿è˜‡ä¸­å²³ç«å±±å£", c: "256 458 600*30", p: "0967-34-1600" }, // ç•Œç·š
        { n: "Imakin é£Ÿå ‚ (èµ¤ç‰›ä¸¼)", c: "256 685 024*41", p: "0967-32-0031" },
        { n: "Dormy Inn ç†Šæœ¬", c: "29 459 468*88", p: "096-311-5489" },
        { n: "å¤©è‰æµ·é®®è”µ (æµ·è±š)", c: "474 084 158*44", p: "0969-52-7707" },
        { n: "ç†Šæœ¬åŸ (åœè»Šå ´)", c: "29 459 342*58", p: "096-352-5900" },
        { n: "å¤ªå®°åºœå¤©æ»¿å®®", c: "55 364 128*71", p: "092-922-8225" },
        { n: "ä½è³€ å‘¼å­æœå¸‚", c: "182 722 104*50", p: "0955-82-3426" },
        { n: "ç³¸å³¶ å¤«å©¦å²©", c: "224 788 206*25", p: "092-327-0317" },
        { n: "THE OUTLETS åŒ—ä¹å·", c: "16 427 590*78", p: "093-663-7251" }
    ];

    const reservationData = [
        { t: "æ©Ÿç¥¨ (CI138/139)", d: "1/29 å» 08:25 - 12:00<br>2/6 å› 11:40 - 13:45" },
        { t: "ç§Ÿè»Š (Toyota)", d: "1/31 09:00 - 2/5 18:00<br>åšå¤šç«™æ±å…¥å£ (å«é›ªèƒ/ETC)" },
        { t: "è‰è“åƒåˆ°é£½ (ULUU)", d: "1/31 11:30<br>ä½è³€ ULUU Gardens (ç¾å ´ä»˜)" },
        { t: "è—¥é™¢ç‡’è‚‰ NIKUICHI", d: "1/29 æ™šé¤ (é ç´„ç¢ºèªä¿¡)" },
        { t: "å¤©è‰æµ·è±š (æµ·é®®è”µ)", d: "2/2 11:30 é›†åˆ (è³è±š+BBQ)" },
        { t: "æ¹¯å¸ƒé™¢å±±æ°´é¤¨", d: "1/31 å…¥ä½ (19:00å‰ Check-in)" }
    ];

    // --- Logic Implementation ---

    function showSection(id) {
        document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo(0, 0);
    }

    // 1. Checklist
    const checklistDiv = document.getElementById('checklist-container');
    packingList.forEach((item, idx) => {
        const div = document.createElement('div');
        div.className = 'checklist-item';
        const isChecked = localStorage.getItem(`pack_${idx}`) === 'true';
        if(isChecked) div.classList.add('checked');
        
        div.innerHTML = `
            <input type="checkbox" ${isChecked ? 'checked' : ''} onchange="toggleCheck(this, ${idx})">
            <span>${item}</span>
        `;
        checklistDiv.appendChild(div);
    });

    function toggleCheck(el, idx) {
        el.parentElement.classList.toggle('checked');
        localStorage.setItem(`pack_${idx}`, el.checked);
    }

    // 2. Itinerary with Clickable Modal
    const itinDiv = document.getElementById('itinerary-content');
    itineraryData.forEach(day => {
        const group = document.createElement('div');
        group.className = 'day-group';
        
        const stepsHtml = day.steps.map(s => `
            <div class="timeline-step">
                <div class="step-time">${s.t}</div>
                <div class="step-content" onclick="openModal('${s.name}', '${s.imgKey}', '${s.desc}')">
                    <div style="font-weight:bold; color:var(--text)">${s.name}</div>
                    <div style="font-size:0.85rem; color:#666; margin-top:2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">
                        ${s.desc}
                    </div>
                </div>
            </div>
        `).join('');

        group.innerHTML = `<div class="day-title">${day.date}</div>${stepsHtml}`;
        itinDiv.appendChild(group);
    });

    // Modal Logic
    const modal = document.getElementById('location-modal');
    function openModal(title, keyword, desc) {
        document.getElementById('modal-title').innerText = title;
        document.getElementById('modal-desc').innerText = desc;
        // Use Unsplash Source for illustrative images
        document.getElementById('modal-img').src = `https://source.unsplash.com/600x400/?${keyword},kyushu,japan`; 
        modal.classList.add('open');
    }
    
    function closeModal(e) {
        if(e.target === modal || e.target.classList.contains('close-modal')) {
            modal.classList.remove('open');
        }
    }

    // 3. Food
    const foodDiv = document.getElementById('food-container');
    foodData.forEach(cat => {
        const items = cat.items.map(i => `<span style="background:white; padding:5px 10px; border-radius:15px; font-size:0.9rem; margin:0 5px 5px 0; display:inline-block; border:1px solid #eee;">${i}</span>`).join('');
        const div = document.createElement('div');
        div.style.marginBottom = '15px';
        div.innerHTML = `<h3 style="margin:0 0 5px 0; font-size:1rem; color:var(--plum);"><i class="fas fa-map-marker-alt"></i> ${cat.region}</h3><div>${items}</div>`;
        foodDiv.appendChild(div);
    });

    // 4. Mapcodes (Split Logic)
    const splitIndex = mapcodeData.findIndex(item => item.n.includes("é˜¿è˜‡ä¸­å²³ç«å±±å£"));
    const mapPart1 = mapcodeData.slice(0, splitIndex + 1); // Up to Aso
    const mapPart2 = mapcodeData.slice(splitIndex + 1);    // After Aso

    function renderMapRows(data, containerId) {
        const tbody = document.getElementById(containerId);
        data.forEach(item => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td>${item.n}</td>
                <td>
                    <div style="color:var(--ocean-dark); font-weight:bold; font-family:monospace; font-size:1.1rem;">
                        ${item.c} <button class="copy-btn" onclick="copy('${item.c}')">è¤‡è£½</button>
                    </div>
                    <div style="font-size:0.85rem; color:#666; margin-top:4px;">
                        ğŸ“ ${item.p} <button class="copy-btn" onclick="copy('${item.p}')">è¤‡è£½</button>
                    </div>
                </td>
            `;
            tbody.appendChild(tr);
        });
    }

    renderMapRows(mapPart1, 'map-body-1');
    renderMapRows(mapPart2, 'map-body-2');

    function switchMapTab(page) {
        document.querySelectorAll('.map-tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.map-tab-btn')[page-1].classList.add('active');
        
        document.getElementById('map-page-1').style.display = page === 1 ? 'block' : 'none';
        document.getElementById('map-page-2').style.display = page === 2 ? 'block' : 'none';
    }

    function copy(txt) {
        navigator.clipboard.writeText(txt).then(() => alert('å·²è¤‡è£½ï¼š' + txt));
    }

    // 5. Reservations
    const resDiv = document.getElementById('res-container');
    reservationData.forEach(res => {
        const div = document.createElement('div');
        div.className = 'step-content'; // Reuse style
        div.style.marginBottom = '10px';
        div.style.borderLeftColor = 'var(--mountain)';
        div.innerHTML = `<div style="font-weight:bold; color:var(--ocean-dark)">${res.t}</div><div style="font-size:0.9rem; color:#555;">${res.d}</div>`;
        resDiv.appendChild(div);
    });

    // Petals Effect
    function createPetal() {
        const petal = document.createElement('div');
        petal.className = 'petal';
        petal.style.left = Math.random() * 100 + 'vw';
        petal.style.animationDuration = Math.random() * 3 + 4 + 's';
        document.body.appendChild(petal);
        setTimeout(() => petal.remove(), 7000);
    }
    setInterval(createPetal, 500);

</script>
</body>
</html>
