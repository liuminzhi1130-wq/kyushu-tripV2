<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜¥æ—¥åºæ›²ï½œä¹å·å±±æµ·è‡ªé§•æ—¥è¨˜ ğŸŒ¸</title>
    <style>
        /* å¼•å…¥æ´»æ½‘åœ“æ½¤çš„å­—é«” */
        @import url('https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap');

        :root {
            --plum-pink: #F48FB1;       /* æ¢…èŠ±ç²‰ */
            --plum-light: #FCE4EC;      /* æ·ºç²‰èƒŒæ™¯ */
            --sea-blue: #4FC3F7;        /* å¤©è‰æµ·è— */
            --deep-sea: #0277BD;        /* æ·±è—æ–‡å­— */
            --mountain-green: #AED581;  /* é˜¿è˜‡è‰åƒé‡Œç¶  */
            --text-color: #455A64;      /* è³ªæ„Ÿæ·±ç° */
            --card-bg: rgba(255, 255, 255, 0.95);
        }

        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background: linear-gradient(135deg, #E0F7FA 0%, #F8BBD0 100%); /* è—å¤©æ¥åˆ°æ¢…èŠ±ç²‰çš„æ¼¸å±¤ */
            margin: 0;
            padding: 20px;
            color: var(--text-color);
            min-height: 100vh;
            background-attachment: fixed;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.5);
        }

        /* ğŸŒ¸ Header Design */
        header {
            background: url('https://images.unsplash.com/photo-1490750967868-58cb75069ed6?q=80&w=2574&auto=format&fit=crop') center/cover;
            height: 180px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        header::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(255, 255, 255, 0.6); /* æŸ”å’Œé®ç½© */
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        h1 {
            margin: 0;
            font-size: 1.8rem;
            color: #D81B60;
            letter-spacing: 2px;
            text-shadow: 2px 2px 0px rgba(255,255,255,0.8);
        }

        .subtitle {
            font-size: 0.9rem;
            color: #01579B;
            margin-top: 5px;
            font-weight: bold;
            background: rgba(255,255,255,0.7);
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
        }

        /* ğŸ§­ Navigation Grid */
        .nav-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            padding: 25px;
        }

        .nav-btn {
            background: white;
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
            border: 2px solid transparent;
        }

        .nav-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: var(--plum-pink);
        }

        .nav-btn i {
            font-size: 1.8rem;
            margin-bottom: 5px;
            background: -webkit-linear-gradient(45deg, var(--plum-pink), var(--sea-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* ğŸ¨ Section Styles */
        .section {
            display: none;
            padding: 20px;
            animation: slideIn 0.4s ease-out;
            min-height: 50vh;
        }

        .section.active {
            display: block;
        }

        .back-btn {
            display: inline-block;
            padding: 8px 20px;
            background: linear-gradient(to right, var(--plum-pink), var(--sea-blue));
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 0.9rem;
            cursor: pointer;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(244, 143, 177, 0.4);
            transition: 0.2s;
        }
        
        .back-btn:hover {
            transform: scale(1.05);
        }

        h2 {
            color: var(--deep-sea);
            border-left: 5px solid var(--plum-pink);
            padding-left: 15px;
            margin-bottom: 20px;
        }

        /* âœ… Checklist */
        .checklist-item {
            display: flex;
            align-items: center;
            padding: 12px;
            border-radius: 12px;
            margin-bottom: 8px;
            background: white;
            transition: 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.03);
        }

        .checklist-item:hover {
            background: var(--plum-light);
        }

        .checklist-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 15px;
            accent-color: var(--plum-pink);
            cursor: pointer;
        }

        .checklist-item.checked span {
            text-decoration: line-through;
            color: #aaa;
        }

        /* ğŸ—“ Itinerary Timeline */
        .day-card {
            background: white;
            border-radius: 15px;
            margin-bottom: 15px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            border: 1px solid #f0f0f0;
        }

        .day-header {
            background: linear-gradient(to right, #ffffff, #f0f7ff);
            padding: 15px 20px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--deep-sea);
            border-bottom: 1px solid #eee;
        }
        
        .day-header:hover {
            background: #f0f4ff;
        }

        .day-content {
            display: none;
            padding: 20px;
            background: white;
        }

        .timeline-item {
            position: relative;
            padding-left: 20px;
            margin-bottom: 15px;
            border-left: 2px solid var(--plum-pink);
        }

        .timeline-item::before {
            content: 'ğŸŒ¸';
            position: absolute;
            left: -9px;
            top: 0;
            font-size: 12px;
            background: white;
        }

        .time { font-weight: bold; color: var(--plum-pink); font-size: 0.85rem; }
        .activity { font-size: 1rem; color: #555; }

        /* ğŸœ Food & Mapcodes */
        .info-card {
            background: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .info-card h3 {
            margin: 0 0 10px 0;
            color: var(--deep-sea);
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }
        .info-card h3 i { margin-right: 8px; color: var(--mountain-green); }

        .tag {
            display: inline-block;
            background: var(--plum-light);
            color: #D81B60;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.85rem;
            margin-right: 5px;
            margin-bottom: 5px;
        }

        /* ğŸ“‹ Mapcode Table */
        .map-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 8px;
        }
        .map-table td {
            background: white;
            padding: 12px;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }
        .map-table td:first-child { border-left: 1px solid #eee; border-radius: 10px 0 0 10px; font-weight: bold; color: var(--deep-sea); }
        .map-table td:last-child { border-right: 1px solid #eee; border-radius: 0 10px 10px 0; }

        .copy-btn {
            background: var(--sea-blue);
            color: white;
            border: none;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 0.75rem;
            cursor: pointer;
            margin-left: 5px;
        }

        /* ğŸ« Reservations */
        .res-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 6px solid var(--mountain-green);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            position: relative;
        }
        .res-icon {
            position: absolute;
            right: 15px;
            top: 15px;
            font-size: 1.5rem;
            opacity: 0.3;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ğŸŒ¸ Falling Petals Animation */
        .petal {
            position: fixed;
            top: -10px;
            background: #FFCDD2;
            border-radius: 100% 0 100% 0;
            opacity: 0.8;
            pointer-events: none;
            z-index: 999;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to { transform: translateY(100vh) rotate(720deg); }
        }

    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <div class="container">
        <header>
            <div class="header-content">
                <h1>æ˜¥æ—¥åºæ›²ï½œä¹å·å±±æµ·è‡ªé§•æ—¥è¨˜</h1>
                <div class="subtitle">2026 åšå¤šãƒ»ç”±å¸ƒé™¢ãƒ»ç†Šæœ¬ãƒ»å¤©è‰ ğŸŒ¸</div>
            </div>
        </header>

        <div id="home" class="section active">
            <div class="nav-grid">
                <div class="nav-btn" onclick="showSection('packing')">
                    <i class="fas fa-suitcase-rolling"></i> æ—…è¡Œæ¸…å–®
                </div>
                <div class="nav-btn" onclick="showSection('itinerary')">
                    <i class="fas fa-map-marked-alt"></i> æ¯æ—¥è¡Œç¨‹
                </div>
                <div class="nav-btn" onclick="showSection('food')">
                    <i class="fas fa-utensils"></i> ç¾é£Ÿåœ°åœ–
                </div>
                <div class="nav-btn" onclick="showSection('mapcodes')">
                    <i class="fas fa-car-side"></i> å°èˆªç·¨ç¢¼
                </div>
                <div class="nav-btn" onclick="showSection('reservations')">
                    <i class="fas fa-ticket-alt"></i> é ç´„æ†‘è­‰
                </div>
                <div class="nav-btn" onclick="openSupermarket()">
                    <i class="fas fa-shopping-basket"></i> é™„è¿‘è¶…å¸‚
                </div>
            </div>
        </div>

        <div id="packing" class="section">
            <button class="back-btn" onclick="showSection('home')">â†© è¿”å›</button>
            <h2>ğŸ’ è¡Œææª¢æŸ¥</h2>
            <div id="checklist-container"></div>
        </div>

        <div id="itinerary" class="section">
            <button class="back-btn" onclick="showSection('home')">â†© è¿”å›</button>
            <h2>ğŸ“… è‡ªé§•æ—…ç¨‹è¡¨</h2>
            <div id="itinerary-container"></div>
        </div>

        <div id="food" class="section">
            <button class="back-btn" onclick="showSection('home')">â†© è¿”å›</button>
            <h2>ğŸ± ç¾é£Ÿå£è¢‹åå–®</h2>
            <div id="food-container"></div>
        </div>

        <div id="mapcodes" class="section">
            <button class="back-btn" onclick="showSection('home')">â†© è¿”å›</button>
            <h2>ğŸš— MapCode å°èˆª</h2>
            <p style="font-size:0.8rem; color:#888;">*é»æ“Šæ•¸å­—å³å¯è¤‡è£½</p>
            <table class="map-table">
                <tbody id="mapcode-body"></tbody>
            </table>
        </div>

        <div id="reservations" class="section">
            <button class="back-btn" onclick="showSection('home')">â†© è¿”å›</button>
            <h2>ğŸ« é‡è¦é ç´„è³‡è¨Š</h2>
            <div id="res-container"></div>
        </div>
    </div>

<script>
    // --- Data (Same as before, preserved) ---
    
    const packingItems = [
        "æ‰‹æ©Ÿ", "éŒ¢åŒ… (æ—¥å¹£)", "è­·ç…§ (æ•ˆæœŸå…§)", "å°ç£é§•ç…§", "é§•ç…§æ—¥æ–‡è­¯æœ¬", 
        "å‡¡å£«æ—", "å……é›»å™¨", "è¡Œå‹•é›»æº", "eSIM (å·²å®‰è£?)", "ä¿æº«ç“¶",
        "ç‰™åˆ·ç‰™è†", "å€‹äººè—¥å“", "é›¨å‚˜/é›¨è¡£", "ä¿¡ç”¨å¡ (å¯Œé‚¦Jå¡)"
    ];

    const itineraryData = [
        { 
            date: "1/29 (å››) Day 1", 
            title: "æŠµé”ç¦å²¡ãƒ»ç‡’è‚‰ä¹‹å¤œ", 
            steps: [
                {t: "08:25", d: "é«˜é›„èµ·é£› (CI138)"},
                {t: "12:00", d: "æŠµé”ç¦å²¡æ©Ÿå ´ âœˆï¸"},
                {t: "ä¸‹åˆ", d: "é£¯åº—å¯„æ”¾è¡Œæ @ åšå¤šç¥‡åœ’"},
                {t: "ä¸‹åˆ", d: "å·ç«¯é€šå•†åº—è¡— / Full Full æ˜å¤ªå­éºµåŒ…"},
                {t: "æ™šé¤", d: "ğŸ”¥ è—¥é™¢ç‡’è‚‰ NIKUICHI (å·²é ç´„)"}
            ]
        },
        { 
            date: "1/30 (äº”) Day 2", 
            title: "æµ·ä¹‹ä¸­é“ãƒ»é‹æ²³åŸ", 
            steps: [
                {t: "ä¸Šåˆ", d: "åšå¤šåŸ é ­æ­èˆ¹ (10:35 / 12:35)"},
                {t: "ä¸‹åˆ", d: "ğŸ¬ æµ·ä¹‹ä¸­é“æµ·æ¿±å…¬åœ’ (å–®è»Šæ¼«éŠ)"},
                {t: "æ™šä¸Š", d: "åšå¤šé‹æ²³åŸ Canal City (æ‹‰éºµ/ç‰›èˆŒ)"}
            ]
        },
        { 
            date: "1/31 (å…­) Day 3", 
            title: "ç§Ÿè»Šè‡ªé§•ãƒ»è‰è“èˆ‡æº«æ³‰", 
            steps: [
                {t: "09:00", d: "ğŸš— å–è»Š (Toyota åšå¤šç«™æ±å…¥å£)"},
                {t: "11:30", d: "ğŸ“ æ¡è‰è“ (ULUU Gardens SAGA)"},
                {t: "ä¸‹åˆ", d: "ç”±å¸ƒé™¢æ•£ç­– (æ¹¯ä¹‹åª/ç«¥è©±æ‘)"},
                {t: "19:00å‰", d: "ğŸ¨ æ¹¯å¸ƒé™¢å±±æ°´é¤¨ Check-in (æ™šé¤)"}
            ]
        },
        { 
            date: "2/1 (æ—¥) Day 4", 
            title: "é˜¿è˜‡ç«å±±ãƒ»è‰åƒé‡Œ", 
            steps: [
                {t: "æ—©æ™¨", d: "é‡‘é±—æ¹–æ™¨éœ§"},
                {t: "ä¸Šåˆ", d: "ğŸŒ‹ é˜¿è˜‡ç«å±± (è‰åƒé‡Œ/ç±³å¡š/ç«å±±å£)"},
                {t: "åˆé¤", d: "é˜¿è˜‡èµ¤ç‰›ä¸¼ (Imakin æˆ– ä¼‘æ¯ç«™)"},
                {t: "æ™šä¸Š", d: "ç§»å‹•è‡³ç†Šæœ¬å¸‚å€ (Dormy Inn)"}
            ]
        },
        { 
            date: "2/2 (ä¸€) Day 5", 
            title: "å¤©è‰æµ·è±šãƒ»ç†Šæœ¬åŸä¸‹ç”º", 
            steps: [
                {t: "ä¸Šåˆ", d: "é–‹è»Šå‰å¾€å¤©è‰ (ç´„2hr)"},
                {t: "11:30", d: "ğŸ¬ å¤©è‰çœ‹æµ·è±š (å¤©è‰æµ·é®®è”µ)"},
                {t: "åˆé¤", d: "æµ·é®® BBQ"},
                {t: "æ™šä¸Š", d: "ç†Šæœ¬ ä¸Šé€š/ä¸‹é€šå•†åº—è¡—"}
            ]
        },
        { 
            date: "2/3 (äºŒ) Day 6", 
            title: "ç†Šæœ¬åŸãƒ»å¤ªå®°åºœå¤©æ»¿å®®", 
            steps: [
                {t: "ä¸Šåˆ", d: "ğŸ¯ ç†Šæœ¬åŸ / æ«»ä¹‹é¦¬å ´ åŸå½©è‹‘"},
                {t: "ä¸‹åˆ", d: "â›©ï¸ å¤ªå®°åºœå¤©æ»¿å®® (æ¢…æé¤…)"},
                {t: "æ™šä¸Š", d: "å¤©ç¥åœ°ä¸‹è¡— / å…¥ä½ä¸‰äº•èŠ±åœ’ä¸­æ´²"}
            ]
        },
        { 
            date: "2/4 (ä¸‰) Day 7", 
            title: "ä½è³€å‘¼å­ãƒ»ç³¸å³¶æµ·æ™¯", 
            steps: [
                {t: "ä¸Šåˆ", d: "ğŸ¦‘ ä½è³€ å‘¼å­æœå¸‚ (æ´»èŠ±æåˆºèº«)"},
                {t: "ä¸‹åˆ", d: "å”æ´¥åŸ & ç³¸å³¶ (å¤«å©¦å²©/ç™½è‰²é³¥å±…)"}
            ]
        },
        { 
            date: "2/5 (å››) Day 8", 
            title: "Outlet æ¡è³¼ãƒ»é‚„è»Š", 
            steps: [
                {t: "å…¨æ—¥", d: "ğŸ›ï¸ THE OUTLETS KITAKYUSHU"},
                {t: "18:00å‰", d: "ğŸš— é‚„è»Š (Toyota åšå¤šç«™æ±å…¥å£)"}
            ]
        },
        { 
            date: "2/6 (äº”) Day 9", 
            title: "å†è¦‹ä¹å·", 
            steps: [
                {t: "ä¸Šåˆ", d: "æ­è¨ˆç¨‹è»Šå‰å¾€ç¦å²¡æ©Ÿå ´"},
                {t: "11:40", d: "é£›æ©Ÿèµ·é£› (CI139)"},
                {t: "13:45", d: "æŠµé”é«˜é›„"}
            ]
        }
    ];

    const foodData = {
        "åšå¤š": ["Full Full æ˜å¤ªå­éºµåŒ…", "è—¥é™¢ç‡’è‚‰ NIKUICHI", "il FORNO del MIGNON å¯é Œ", "åšå¤šä¸€åŒ æ‹‰éºµ", "å¤§åœ°çƒé¾éºµ"],
        "å¤©ç¥": ["I'm donut?", "Shin Shin æ‹‰éºµ", "è‘«è˜†å£½å¸", "å¤©å©¦ç¾… Hirao"],
        "ä¸­æ´²": ["ä¸­æ´²å±‹å°è¡—", "ä¸€è˜­æ‹‰éºµ ç¸½æœ¬åº—", "å·ç«¯å–„å“‰å»£å ´"],
        "ç”±å¸ƒé™¢": ["B-Speak è›‹ç³•æ²", "å²åŠªæ¯”èŒ¶å±‹", "è±å¾Œç‰›å¯æ¨‚é¤…"],
        "ç†Šæœ¬": ["é»‘äº­æ‹‰éºµ", "å‹çƒˆäº­ è±¬æ’", "Imakiné£Ÿå ‚ èµ¤ç‰›ä¸¼", "èœ‚æ¨‚é¥…é ­", "è…ä¹ƒå±‹ é¦¬è‚‰"],
        "é˜¿è˜‡": ["é˜¿è˜‡èµ¤ç‰›ä¸¼", "é˜¿è˜‡ä¼‘æ¯ç«™å¸ƒä¸"],
        "å¤ªå®°åºœ": ["æ¢…æé¤…", "ä¸€è˜­æ‹‰éºµ (åˆæ ¼ç¢—)"]
    };

    const mapcodeData = [
        {n: "Toyota Rent a Car (å–/é‚„)", c: "13 320 18871", p: "092-472-8388"},
        {n: "ULUU è‰è“åœ’", c: "37 491 66213", p: "080-8956-1030"},
        {n: "æ¹¯å¸ƒé™¢å±±æ°´é¤¨", c: "269 328 633*45", p: "0977-84-2101"},
        {n: "é‡‘é±—æ¹–åœè»Šå ´", c: "269 359 583*03", p: "0977-84-3111"},
        {n: "è‰åƒé‡Œ (é˜¿è˜‡)", c: "256 456 77085", p: "0967-34-0131"},
        {n: "é˜¿è˜‡ä¸­å²³ç«å±±å£", c: "256 458 60030", p: "0967-34-1600"},
        {n: "Imakin é£Ÿå ‚", c: "256 685 02441", p: "0967-32-0031"},
        {n: "Dormy Inn Kumamoto", c: "29 459 468*88", p: "096-311-5489"},
        {n: "å¤©è‰æµ·é®®è”µ", c: "474 084 15844", p: "0969-52-7707"},
        {n: "ç†Šæœ¬åŸ", c: "29 459 34258", p: "096-352-5900"},
        {n: "å¤ªå®°åºœå¤©æ»¿å®®", c: "55 364 128*71", p: "092-922-8225"},
        {n: "å‘¼å­æœå¸‚", c: "182 722 104*50", p: "0955-82-3426"},
        {n: "ç³¸å³¶ å¤«å©¦å²©", c: "224 788 206*25", p: "092-327-0317"},
        {n: "THE OUTLETS KITAKYUSHU", c: "16 427 590*78", p: "093-663-7251"}
    ];

    const reservationData = [
        {
            title: "æ©Ÿç¥¨ (è¯èˆª CI138/CI139)",
            details: "1/29 08:25 KHH -> 12:00 FUK<br>2/6 11:40 FUK -> 13:45 KHH<br>æ—…å®¢: Liu Minzhi",
            icon: "fa-plane"
        },
        {
            title: "ç§Ÿè»Š (Toyota Rent a Car)",
            details: "1/31 09:00 - 2/5 18:00<br>åœ°é»: åšå¤šç«™æ±å…¥å£<br>æ–¹æ¡ˆ: W1ç¦ç…™, <b>å«é›ªèƒ & ETC</b>",
            icon: "fa-car"
        },
        {
            title: "ULUU è‰è“åƒåˆ°é£½",
            details: "1/31 (å…­) 11:30<br>åœ°é»: UluuGardensSAGA (ä½è³€)<br>3å¤§1å°, Â¥7,700 (ç¾å ´ä»˜)",
            icon: "fa-utensils"
        },
        {
            title: "è—¥é™¢ç‡’è‚‰ NIKUICHI",
            details: "1/29 (Day 1 æ™šé¤)<br>ç‹€æ…‹: å·²é ç´„ (è«‹å‡ºç¤ºç¢ºèªä¿¡)",
            icon: "fa-fire"
        },
        {
            title: "å¤©è‰æµ·é®®è”µ (æµ·è±š)",
            details: "2/2 (ä¸€) 11:30 é›†åˆ<br>å…§å®¹: è§€è³æµ·è±š + æµ·é®®BBQ",
            icon: "fa-anchor"
        },
        {
            title: "è¥¿éµ Croom åšå¤šç¥‡åœ’",
            details: "1/29 - 1/31 (2æ™š)<br>å–®è‡¥å®¤å…¬å¯“",
            icon: "fa-bed"
        },
        {
            title: "æ¹¯å¸ƒé™¢å±±æ°´é¤¨",
            details: "1/31 - 2/1 (1æ™š)<br><b>19:00å‰ Check-in</b>",
            icon: "fa-hot-tub"
        },
        {
            title: "Dormy Inn Kumamoto",
            details: "2/1 - 2/3 (2æ™š)<br>åœ°é»: ç†Šæœ¬ è¾›å³¶ç”º",
            icon: "fa-bed"
        },
        {
            title: "ä¸‰äº•èŠ±åœ’ç¦å²¡ä¸­æ´²",
            details: "2/3 - 2/6 (3æ™š)",
            icon: "fa-bed"
        }
    ];

    // --- Logic ---

    function showSection(id) {
        document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo(0, 0);
    }

    // Packing List
    const checklistContainer = document.getElementById('checklist-container');
    packingItems.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'checklist-item';
        const checked = localStorage.getItem('pack_v2_' + index) === 'true';
        if(checked) div.classList.add('checked');
        
        div.innerHTML = `
            <input type="checkbox" id="pack_${index}" ${checked ? 'checked' : ''} onchange="toggleCheck(this, ${index})">
            <span>${item}</span>
        `;
        checklistContainer.appendChild(div);
    });

    function toggleCheck(checkbox, index) {
        localStorage.setItem('pack_v2_' + index, checkbox.checked);
        checkbox.parentElement.classList.toggle('checked');
    }

    // Itinerary
    const itineraryContainer = document.getElementById('itinerary-container');
    itineraryData.forEach((day, idx) => {
        const card = document.createElement('div');
        card.className = 'day-card';
        let stepsHtml = day.steps.map(s => `
            <div class="timeline-item">
                <div class="time">${s.t}</div>
                <div class="activity">${s.d}</div>
            </div>
        `).join('');

        card.innerHTML = `
            <div class="day-header" onclick="toggleDay(this)">
                <span>${day.date}</span>
                <span style="font-size:0.8rem; color:#888;">${day.title} â–¼</span>
            </div>
            <div class="day-content" style="display: ${idx === 0 ? 'block' : 'none'}">
                ${stepsHtml}
            </div>
        `;
        itineraryContainer.appendChild(card);
    });

    function toggleDay(header) {
        const content = header.nextElementSibling;
        const isOpen = content.style.display === 'block';
        
        document.querySelectorAll('.day-content').forEach(c => c.style.display = 'none');
        
        if (!isOpen) {
            content.style.display = 'block';
        }
    }

    // Food
    const foodContainer = document.getElementById('food-container');
    for (const [region, shops] of Object.entries(foodData)) {
        const div = document.createElement('div');
        div.className = 'info-card';
        const tags = shops.map(shop => `<span class="tag">${shop}</span>`).join('');
        div.innerHTML = `<h3><i class="fas fa-map-marker-alt"></i> ${region}</h3><div>${tags}</div>`;
        foodContainer.appendChild(div);
    }

    // Mapcode
    const mapBody = document.getElementById('mapcode-body');
    mapcodeData.forEach(item => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td>${item.n}</td>
            <td>
                <div style="margin-bottom:4px;">${item.c} <button class="copy-btn" onclick="copyText('${item.c}')"><i class="far fa-copy"></i></button></div>
                <div style="font-size:0.85rem; color:#666;">ğŸ“ ${item.p} <button class="copy-btn" onclick="copyText('${item.p}')"><i class="far fa-copy"></i></button></div>
            </td>
        `;
        mapBody.appendChild(tr);
    });

    function copyText(text) {
        navigator.clipboard.writeText(text).then(() => {
            alert('å·²è¤‡è£½ï¼š' + text);
        });
    }

    // Reservations
    const resContainer = document.getElementById('res-container');
    reservationData.forEach(res => {
        const card = document.createElement('div');
        card.className = 'res-card';
        card.innerHTML = `
            <i class="fas ${res.icon} res-icon"></i>
            <div style="font-weight:bold; font-size:1.1rem; margin-bottom:5px; color:#0277BD;">${res.title}</div>
            <div style="font-size:0.95rem; line-height:1.6; color:#555;">${res.details}</div>
        `;
        resContainer.appendChild(card);
    });

    function openSupermarket() {
        if(confirm("é–‹å•Ÿ Google Maps æœå°‹é™„è¿‘è¶…å¸‚ï¼Ÿ")) {
            window.open("https://www.google.com/maps/search/supermarket/");
        }
    }

    // Creating falling petals
    function createPetals() {
        const petalCount = 8;
        for (let i = 0; i < petalCount; i++) {
            const petal = document.createElement('div');
            petal.className = 'petal';
            petal.style.left = Math.random() * 100 + 'vw';
            petal.style.animationDuration = Math.random() * 5 + 5 + 's';
            petal.style.width = Math.random() * 10 + 10 + 'px';
            petal.style.height = petal.style.width;
            document.body.appendChild(petal);
        }
    }
    createPetals();

</script>
</body>
</html>
